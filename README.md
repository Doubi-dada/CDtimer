# 技能倒计时管理器 v2.0 🎮⏰

一个现代化的技能倒计时管理工具，专为游戏玩家设计，帮助高效管理技能冷却时间。

---

## ✨ 功能特点

### 🎯 核心功能
- 添加 / 编辑 / 删除多个计时任务  
- 为每个任务绑定自定义热键，快速启动 / 停止  
- 支持弹窗提醒与语音提醒  
- 每个任务可配置专属语音内容  

### 🎨 界面特色
- 简洁美观的现代化 UI  
- 实时显示任务状态与剩余时间  
- 支持最小化到系统托盘后台运行  
- 自适应窗口大小  

### ⚡ 便捷操作
- 热键一键启动 / 停止  
- 同一热键支持状态切换  
- 同时管理多个技能计时  

---

## 📦 安装说明

### 环境要求
- Python 3.7+  
- Windows 10+（推荐）  

### 安装步骤
```bash
# 1. 克隆项目
git clone <项目地址>
cd CDTimer

# 2. 安装依赖
pip install -r requirements.txt

# 3. 运行程序
python main.py
```

### 主要依赖
- `PyQt5` —— 图形界面框架  
- `pyttsx3` —— 文字转语音  
- `keyboard` —— 全局热键监听  

---

## 📖 使用指南

### 基本操作
1. **添加任务**: 填写任务名称、时长、热键与提醒方式 → 保存  
2. **编辑任务**: 选中任务 → 编辑并保存  
3. **删除任务**: 选中任务 → 删除并确认  
4. **开始/停止**:  
   - 点击按钮  
   - 或直接按任务绑定的热键  

### 高级设置
#### 🔑 热键配置
- 单键: `F1`, `1`, `Q`  
- 组合键: `Ctrl+1`, `Alt+Q`, `Shift+F1`  
- 热键可随时启用 / 禁用  

#### 🔔 提醒设置
- **弹窗提醒**: 系统托盘通知  
- **语音提醒**: TTS 播放语音  
- **自定义语音**: 例如 `"回风斩冷却完毕"`  

默认语音: `"{任务名称} 时间到了"`  

---

## ⚙️ 配置文件

自动生成 `tasks_config.json`，保存所有任务信息：

```json
{
  "tasks": [
    {
      "id": "唯一标识符",
      "name": "技能名称",
      "duration": 60,
      "hotkey_enabled": true,
      "hotkey": "F1",
      "popup_reminder": true,
      "voice_reminder": true,
      "custom_voice": "自定义语音内容"
    }
  ],
  "version": "2.0"
}
```

---

## ❓ 常见问题

**Q: 热键不生效？**  
1. 检查是否被占用  
2. 确认热键格式正确  
3. 以管理员权限运行  

**Q: 语音不播放？**  
1. 检查是否安装 `pyttsx3`  
2. 确认系统音量  
3. 确认已启用语音提醒  

**Q: 程序无法启动？**  
1. Python 版本 ≥ 3.7  
2. 依赖已安装  
3. 查看错误日志  

---

## 📝 更新日志

### v2.0 (当前版本)
- 🎨 全新现代化界面  
- ✨ 多任务管理  
- 🎯 自定义热键绑定  
- 🔊 语音提醒  
- 📱 系统托盘支持  
- ⚙️ 灵活配置  

### v1.0
- 基础倒计时功能  
- 简单热键支持  

---

## 🛠 技术架构

```
main.py              # 主程序与界面
├── timer_manager.py # 计时器管理
├── config_manager.py# 配置管理
├── voice_manager.py # 语音管理
└── requirements.txt # 依赖列表
```

---

## 👨‍💻 开发说明

- **main.py**: 界面逻辑  
- **timer_manager.py**: 计时器核心逻辑  
- **config_manager.py**: 配置文件管理  
- **voice_manager.py**: 语音播放  

可扩展方向：
- 新的提醒方式  
- 更多热键类型  
- 支持多语音引擎  
- 界面主题切换  

---

## 📜 许可证

本项目采用 **MIT 许可证**，详见 `LICENSE` 文件。

---

## 🤝 贡献

欢迎提交 **Issue** 与 **Pull Request**！

---

✨ **享受游戏，掌控时间！** ✨

---

## 📦 打包说明

### 打包步骤
1. 确保已安装 `PyInstaller`：
   ```bash
   pip install pyinstaller
   ```

2. 运行以下命令打包为单文件可执行程序：
   ```bash
   pyinstaller --onefile --windowed --icon=NONE --name=CDTimer main.py
   ```

3. 打包完成后，生成的可执行文件位于 `dist/` 目录下，例如：
   ```
   dist/CDTimer.exe
   ```

### 注意事项
- 打包后的程序可直接运行，无需安装 Python 或依赖。
- 可通过添加 `--icon=<图标路径>` 参数自定义程序图标。
- 分发时请包含 `tasks_config.json` 文件以保存默认任务配置。
